Теорема CAP утверждает, что распределённая система не может одновременно обеспечить следующие три гарантии:

- Согласованность (Consistency) – каждый раз при чтении данных будет возвращаться либо самая последняя запись, либо ошибка.
- Доступность (Availability) – каждый запрос получает ответ о том, были ли успешными или нет обновления данных.
- Устойчивость к разделению (Partition tolerance) – система продолжает работать, несмотря на произвольное количество сообщений, которые могут задерживаться или теряться между узлами.

Конкретно по каждой СУБД:

1. DragonFly. TL;DR - AP

Система DragonFly характеризуется архитектурой, которая способствует повышенной надежности и устойчивости к разделениям сети благодаря использованию распределенного подхода к сохранению данных и их параллельной обработке. Основополагающие аспекты, делающие ее представителем AP-систем согласно теореме CAP, включают в себя:

- Распределенное управление данными и их дублирование: Система DragonFly реализует асинхронное дублирование информации между главным узлом и вторичными копиями. Это дает возможность поддерживать непрерывный доступ к данным и устойчивости системы при возникновении сбоев отдельных узлов. В случае недоступности одного или нескольких узлов, работа может быть перенаправлена к другим, доступным узлам, что гарантирует непрерывную работоспособность системы.

- Шардирование данных: В DragonFly предусмотрено деление информации на отдельные сегменты, или шарды, которые обрабатываются независимо друг от друга на разных узлах. Это способствует повышению производительности и масштабируемости системы за счет распределения нагрузки по множеству узлов. Каждый шард дублируется для гарантии доступности и устойчивости.

- Высокая отказоустойчивость: Проектирование системы DragonFly направлено на обеспечение устойчивости к проблемам, связанным с выходом из строя отдельных узлов. В условиях сетевых проблем или поломок запросы могут быть перенаправлены на другие работающие узлы, что исключает простои и поддерживает непрерывную работу системы.

- Гибкое обеспечение согласованности: DragonFly применяет гибридную модель для достижения согласованности данных, допуская временные расхождения между репликами в угоду повышению доступности и производительности. Это позволяет системе быстрее реагировать на запросы пользователей, даже если данные на разных узлах не полностью идентичны в данный момент.

Таким образом, архитектурные решения системы DragonFly направлены на достижение высокой доступности и устойчивости к сетевым разделениям, что выделяет ее как пример AP системы в рамках классификации, предложенной теоремой CAP.

2. ScyllaDB. TL;DR - AP

ScyllaDB представляет собой NoSQL базу данных с колоночной структурой, разработанную для работы с большими массивами данных. Эта система характеризуется высокоскоростной обработкой и минимальными временными задержками. Открытый исходный код делает ее доступной альтернативой Apache Cassandra.

- С учетом многонодовой конфигурации, ScyllaDB идеально подходит для горизонтального расширения. Добавление новых нод в кластер позволяет системе масштабироваться с целью управления увеличивающимся объемом данных и ростом числа запросов.

- В системе ScyllaDB все запросы обрабатываются каждым узлом в рамках распределенной сети, гарантируя актуальность ответа. В случае отказа, доступность узлов сохраняется, хотя некоторые из них могут предоставлять данные предыдущих версий.

- В ScyllaDB реализована модель конечной настраиваемой согласованности данных вместо строгой согласованности. Это обеспечивает высокую доступность данных в разных центрах обработки данных и высокую скорость операций записи и чтения. Данное решение соответствует современным требованиям к рабочим нагрузкам, где приоритет отдается доступности данных, а не строгой согласованности.

Таким образом, ScyllaDB классифицируется как система, ориентированная на доступность и устойчивость к разделению, что соответствует AP-типу систем в рамках теоремы CAP.

3. Arenadata DB. TL;DR - CP или CA

Согласно теореме CAP (Consistency, Availability, Partition Tolerance), Arenadata DB скорее всего относится к классу CP или CA, в зависимости от конкретной конфигурации и настроек системы.

#### Arenadata DB как CP (Consistency, Partition Tolerance):

При необходимости данных быть согласованными и устойчивыми к разделению сети, Arenadata DB может быть классифицирована как CP. Это важно для систем, где целостность данных имеет высший приоритет, и где временное отсутствие доступа к некоторым участкам сети не должно привести к потере данных или нарушению целостности.

Примеры использования: Финансовые системы, системы управления данными в здравоохранении, системы управления ресурсами предприятия, где целостность данных критически важна, и где работоспособность при разделении сети обязательна.

#### Arenadata DB как CA (Consistency, Availability):

Если важна доступность данных и операций в режиме реального времени даже при потере части сети, то Arenadata DB может быть рассмотрена как CA. Это важно для систем, где скорость обработки данных и доступность сервисов играют ключевую роль.

Примеры использования: онлайн-транзакции, где быстрая обработка запросов и доступность сервисов являются основными факторами успеха.

Ссылки на источники:

https://www.dragonflydb.io/features

https://www.scylladb.com/glossary/cap-theorem/

https://arenadata.tech/products/arenadata-db/?ysclid=lsrroml6q5953185698
