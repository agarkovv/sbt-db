Watchdog 2024/05/18 20:13:33 (INFO): using "/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/config.yaml" cluster config for instance "instance001"
started
2024-05-18 20:13:34.054 [45290] main/104/interactive I> Tarantool 3.1.0-0-g96f6d88 Darwin-arm64-Release
2024-05-18 20:13:34.055 [45290] main/104/interactive I> log level 5 (INFO)
2024-05-18 20:13:34.055 [45290] main/104/interactive I> wal/engine cleanup is paused
2024-05-18 20:13:34.055 [45290] main/104/interactive I> mapping 268435456 bytes for memtx tuple arena...
2024-05-18 20:13:34.055 [45290] main/104/interactive I> Actual slab_alloc_factor calculated on the basis of desired slab_alloc_factor = 1.044274
2024-05-18 20:13:34.055 [45290] main/104/interactive I> mapping 134217728 bytes for vinyl tuple arena...
2024-05-18 20:13:34.057 [45290] main/104/interactive I> update replication_synchro_quorum = 1
2024-05-18 20:13:34.057 [45290] main/104/interactive I> instance uuid 34aea3dc-2b9a-4ea5-8708-a570221fa7c7
2024-05-18 20:13:34.058 [45290] main/104/interactive I> tx_binary: bound to 127.0.0.1:3301
2024-05-18 20:13:34.058 [45290] main/104/interactive I> connecting to 3 replicas
2024-05-18 20:13:34.058 [45290] main/112/applier/replicator@127.0.0.1:3301 I> remote master 34aea3dc-2b9a-4ea5-8708-a570221fa7c7 at 127.0.0.1:3301 running Tarantool 3.1.0
2024-05-18 20:13:34.058 [45290] main/114/applier/replicator@127.0.0.1:3303 I> remote master ad1e4566-497b-4cf0-8f93-438f1a7f7379 at 127.0.0.1:3303 running Tarantool 3.1.0
2024-05-18 20:13:34.058 [45290] main/113/applier/replicator@127.0.0.1:3302 I> remote master 36952efe-e2ad-49df-b2da-91913b41740d at 127.0.0.1:3302 running Tarantool 3.1.0
2024-05-18 20:13:34.059 [45290] main/104/interactive I> connected to 3 replicas
2024-05-18 20:13:34.059 [45290] main/104/interactive I> Checking if 34aea3dc-2b9a-4ea5-8708-a570221fa7c7 at replicator@127.0.0.1:3301 chose this instance as bootstrap leader
2024-05-18 20:13:34.059 [45290] main/104/interactive I> Checking if 36952efe-e2ad-49df-b2da-91913b41740d at replicator@127.0.0.1:3302 chose this instance as bootstrap leader
2024-05-18 20:13:34.060 [45290] main/104/interactive I> Checking if ad1e4566-497b-4cf0-8f93-438f1a7f7379 at replicator@127.0.0.1:3303 chose this instance as bootstrap leader
2024-05-18 20:13:34.060 [45290] main/104/interactive I> initializing an empty data directory
2024-05-18 20:13:34.077 [45290] main/104/interactive I> assigned id 1 to replica 34aea3dc-2b9a-4ea5-8708-a570221fa7c7
2024-05-18 20:13:34.077 [45290] main/104/interactive I> update replication_synchro_quorum = 1
2024-05-18 20:13:34.077 [45290] main/104/interactive I> assigned name instance001 to replica 34aea3dc-2b9a-4ea5-8708-a570221fa7c7
2024-05-18 20:13:34.077 [45290] main/104/interactive I> replicaset uuid e4c19019-0d29-485c-95bc-33062ece2d8a
2024-05-18 20:13:34.077 [45290] main/104/interactive I> replicaset name: replicaset001
2024-05-18 20:13:34.077 [45290] snapshot/101/main I> saving snapshot `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000000.snap.inprogress'
2024-05-18 20:13:34.078 [45290] snapshot/101/main I> done
2024-05-18 20:13:34.078 [45290] main/104/interactive I> RAFT: start state machine
2024-05-18 20:13:34.078 [45290] main/104/interactive I> ready to accept requests
2024-05-18 20:13:34.078 [45290] main/104/interactive I> RAFT: bump term to 2, follow
2024-05-18 20:13:34.078 [45290] main/104/interactive I> RAFT: vote for 1, follow
2024-05-18 20:13:34.078 [45290] main/106/gc I> wal/engine cleanup is resumed
2024-05-18 20:13:34.078 [45290] main/114/applier/replicator@127.0.0.1:3303 I> failed to authenticate
2024-05-18 20:13:34.078 [45290] main/114/applier/replicator@127.0.0.1:3303 box.cc:4283 E> ER_LOADING: Instance bootstrap hasn't finished yet
2024-05-18 20:13:34.078 [45290] main/114/applier/replicator@127.0.0.1:3303 I> will retry every 1.00 second
2024-05-18 20:13:34.078 [45290] main/113/applier/replicator@127.0.0.1:3302 I> failed to authenticate
2024-05-18 20:13:34.078 [45290] main/113/applier/replicator@127.0.0.1:3302 box.cc:4283 E> ER_LOADING: Instance bootstrap hasn't finished yet
2024-05-18 20:13:34.078 [45290] main/113/applier/replicator@127.0.0.1:3302 I> will retry every 1.00 second
2024-05-18 20:13:34.078 [45290] main/118/raft_worker I> RAFT: persisted state {term: 2, vote: 1}
2024-05-18 20:13:34.078 [45290] main/118/raft_worker I> RAFT: enter leader state with quorum 1
2024-05-18 20:13:34.078 [45290] main/104/interactive/box.load_cfg I> set 'instance_name' configuration option to "instance001"
2024-05-18 20:13:34.078 [45290] main/104/interactive/box.load_cfg I> set 'election_mode' configuration option to "candidate"
2024-05-18 20:13:34.078 [45290] main/104/interactive/box.load_cfg I> set 'custom_proc_title' configuration option to "tarantool - instance001"
2024-05-18 20:13:34.078 [45290] main/104/interactive/box.load_cfg I> set 'log_nonblock' configuration option to false
2024-05-18 20:13:34.078 [45290] main/104/interactive/box.load_cfg I> set 'replication' configuration option to ["replicator@127.0.0.1:3301","replicator@127.0.0.1:3302","replicator@127.0.0.1:3303"]
2024-05-18 20:13:34.079 [45290] main/104/interactive/box.load_cfg I> set 'replicaset_name' configuration option to "replicaset001"
2024-05-18 20:13:34.079 [45290] main/104/interactive/box.load_cfg I> set 'listen' configuration option to [{"uri":"127.0.0.1:3301"}]
2024-05-18 20:13:34.079 [45290] main/107/checkpoint_daemon I> scheduled next checkpoint for Sat May 18 21:42:43 2024
2024-05-18 20:13:34.079 [45290] main/104/interactive/box.load_cfg I> set 'metrics' configuration option to {"labels":{"alias":"instance001"},"include":["all"],"exclude":[]}
2024-05-18 20:13:34.079 [45290] main I> entering the event loop
2024-05-18 20:13:35.065 [45290] main/111/main I> joining replica ad1e4566-497b-4cf0-8f93-438f1a7f7379 at fd 21, aka 127.0.0.1:3301, peer of 127.0.0.1:57449
2024-05-18 20:13:35.065 [45290] main/123/main I> joining replica 36952efe-e2ad-49df-b2da-91913b41740d at fd 22, aka 127.0.0.1:3301, peer of 127.0.0.1:57450
2024-05-18 20:13:35.068 [45290] main/111/main I> initial data sent.
2024-05-18 20:13:35.068 [45290] main/111/main I> assigned id 2 to replica ad1e4566-497b-4cf0-8f93-438f1a7f7379
2024-05-18 20:13:35.069 [45290] main/111/main I> update replication_synchro_quorum = 2
2024-05-18 20:13:35.069 [45290] main/111/main I> RAFT: fencing paused
2024-05-18 20:13:35.069 [45290] main/111/main I> assigned name instance003 to replica ad1e4566-497b-4cf0-8f93-438f1a7f7379
2024-05-18 20:13:35.069 [45290] main/123/main I> initial data sent.
2024-05-18 20:13:35.069 [45290] main/123/main I> assigned id 3 to replica 36952efe-e2ad-49df-b2da-91913b41740d
2024-05-18 20:13:35.069 [45290] main/123/main I> update replication_synchro_quorum = 2
2024-05-18 20:13:35.069 [45290] main/123/main I> assigned name instance002 to replica 36952efe-e2ad-49df-b2da-91913b41740d
2024-05-18 20:13:35.069 [45290] relay/127.0.0.1:57449/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000000.xlog'
2024-05-18 20:13:35.069 [45290] main/111/main I> final data sent.
2024-05-18 20:13:35.069 [45290] relay/127.0.0.1:57450/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000000.xlog'
2024-05-18 20:13:35.069 [45290] main/123/main I> final data sent.
2024-05-18 20:13:35.091 [45290] main/111/main I> subscribed replica 36952efe-e2ad-49df-b2da-91913b41740d at fd 22, aka 127.0.0.1:3301, peer of 127.0.0.1:57450
2024-05-18 20:13:35.091 [45290] main/111/main I> remote vclock {1: 9} local vclock {0: 1, 1: 9}
2024-05-18 20:13:35.091 [45290] main/123/main I> subscribed replica ad1e4566-497b-4cf0-8f93-438f1a7f7379 at fd 21, aka 127.0.0.1:3301, peer of 127.0.0.1:57449
2024-05-18 20:13:35.091 [45290] main/123/main I> remote vclock {1: 9} local vclock {0: 1, 1: 9}
2024-05-18 20:13:35.091 [45290] relay/127.0.0.1:57449/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000000.xlog'
2024-05-18 20:13:35.091 [45290] relay/127.0.0.1:57450/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000000.xlog'
2024-05-18 20:13:36.092 [45290] main/114/applier/replicator@127.0.0.1:3303 I> authenticated
2024-05-18 20:13:36.092 [45290] main/113/applier/replicator@127.0.0.1:3302 I> authenticated
2024-05-18 20:13:36.093 [45290] main/114/applier/replicator@127.0.0.1:3303 I> subscribed
2024-05-18 20:13:36.093 [45290] main/114/applier/replicator@127.0.0.1:3303 I> remote vclock {1: 9} local vclock {0: 1, 1: 9}
2024-05-18 20:13:36.093 [45290] main/113/applier/replicator@127.0.0.1:3302 I> subscribed
2024-05-18 20:13:36.093 [45290] main/113/applier/replicator@127.0.0.1:3302 I> remote vclock {1: 9} local vclock {0: 1, 1: 9}
2024-05-18 20:13:36.094 [45290] main/114/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 2, leader: 1, leader is seen: true, state: follower} from 2
2024-05-18 20:13:36.094 [45290] main/113/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 2, leader: 1, leader is seen: true, state: follower} from 3
2024-05-18 20:13:36.094 [45290] main/113/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 2, leader: 1, leader is seen: true, state: follower} from 3
2024-05-18 20:13:36.094 [45290] main/114/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 2, leader: 1, leader is seen: true, state: follower} from 2
2024-05-18 20:13:37.100 [45290] main/114/applier/replicator@127.0.0.1:3303 I> RAFT: fencing resumed
2024-05-18 20:13:37.100 [45290] main/113/applier/replicator@127.0.0.1:3302 I> leaving orphan mode
2024-05-18 20:48:10.618 [45290] main C> got signal 2 - Interrupt: 2
2024-05-18 20:48:10.618 [45290] main/130/iproto.shutdown I> tx_binary: stopped
2024-05-18 20:48:10.618 [45290] relay/127.0.0.1:57450/101/main I> fiber `main' has been cancelled
2024-05-18 20:48:10.618 [45290] relay/127.0.0.1:57449/101/main I> fiber `main' has been cancelled
2024-05-18 20:48:10.618 [45290] relay/127.0.0.1:57450/101/main I> fiber `main': exiting
2024-05-18 20:48:10.618 [45290] relay/127.0.0.1:57449/101/main I> fiber `main': exiting
2024-05-18 20:48:10.618 [45290] relay/127.0.0.1:57450/101/main I> exiting the relay loop
2024-05-18 20:48:10.618 [45290] relay/127.0.0.1:57449/101/main I> exiting the relay loop
2024-05-18 20:48:10.619 [45290] main/123/main raft.c:1221 W> RAFT: resigning from leader state
2024-05-18 20:48:10.619 [45290] applier_1/105/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302' has been cancelled
2024-05-18 20:48:10.619 [45290] applier_1/105/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302': exiting
2024-05-18 20:48:10.619 [45290] applier_1/103/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303' has been cancelled
2024-05-18 20:48:10.619 [45290] applier_1/103/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303': exiting
Watchdog 2024/05/18 20:48:10 (INFO): the Instance has shutdown.
Watchdog 2024/05/18 20:48:18 (INFO): using "/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/config.yaml" cluster config for instance "instance001"
started
2024-05-18 20:48:18.362 [45782] main/104/interactive I> Tarantool 3.1.0-0-g96f6d88 Darwin-arm64-Release
2024-05-18 20:48:18.362 [45782] main/104/interactive I> log level 5 (INFO)
2024-05-18 20:48:18.362 [45782] main/104/interactive I> wal/engine cleanup is paused
2024-05-18 20:48:18.362 [45782] main/104/interactive I> mapping 268435456 bytes for memtx tuple arena...
2024-05-18 20:48:18.362 [45782] main/104/interactive I> Actual slab_alloc_factor calculated on the basis of desired slab_alloc_factor = 1.044274
2024-05-18 20:48:18.362 [45782] main/104/interactive I> mapping 134217728 bytes for vinyl tuple arena...
2024-05-18 20:48:18.362 [45782] main/104/interactive/box.upgrade I> Recovering snapshot with schema version 3.1.0
2024-05-18 20:48:18.362 [45782] main/104/interactive/tarantool.config log.lua:130 W> box_cfg.apply: instance instance003 is unknown. Possibly instance_name is not set in database and UUID is not specified. Or instance have not joined yet.
2024-05-18 20:48:18.362 [45782] main/104/interactive/tarantool.config log.lua:130 W> box_cfg.apply: instance instance002 is unknown. Possibly instance_name is not set in database and UUID is not specified. Or instance have not joined yet.
2024-05-18 20:48:18.363 [45782] main/104/interactive I> update replication_synchro_quorum = 1
2024-05-18 20:48:18.363 [45782] main/104/interactive I> instance uuid 34aea3dc-2b9a-4ea5-8708-a570221fa7c7
2024-05-18 20:48:18.363 [45782] main/104/interactive I> instance vclock {0: 1, 1: 13}
2024-05-18 20:48:18.363 [45782] main/104/interactive I> tx_binary: bound to 127.0.0.1:3301
2024-05-18 20:48:18.363 [45782] main/104/interactive I> connecting to 3 replicas
2024-05-18 20:48:18.363 [45782] main/113/applier/replicator@127.0.0.1:3301 I> remote master 34aea3dc-2b9a-4ea5-8708-a570221fa7c7 at 127.0.0.1:3301 running Tarantool 3.1.0
2024-05-18 20:48:18.363 [45782] main/114/applier/replicator@127.0.0.1:3302 I> remote master 36952efe-e2ad-49df-b2da-91913b41740d at 127.0.0.1:3302 running Tarantool 3.1.0
2024-05-18 20:48:18.363 [45782] main/115/applier/replicator@127.0.0.1:3303 I> remote master ad1e4566-497b-4cf0-8f93-438f1a7f7379 at 127.0.0.1:3303 running Tarantool 3.1.0
2024-05-18 20:48:18.364 [45782] main/104/interactive I> connected to 3 replicas
2024-05-18 20:48:18.364 [45782] main/104/interactive I> recovery start
2024-05-18 20:48:18.364 [45782] main/104/interactive I> recovering from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000000.snap'
2024-05-18 20:48:18.364 [45782] main/104/interactive I> replicaset name: replicaset001
2024-05-18 20:48:18.364 [45782] main/104/interactive I> replicaset uuid e4c19019-0d29-485c-95bc-33062ece2d8a
2024-05-18 20:48:18.374 [45782] main/104/interactive I> assigned id 1 to replica 34aea3dc-2b9a-4ea5-8708-a570221fa7c7
2024-05-18 20:48:18.374 [45782] main/104/interactive I> update replication_synchro_quorum = 1
2024-05-18 20:48:18.374 [45782] main/104/interactive I> assigned name instance001 to replica 34aea3dc-2b9a-4ea5-8708-a570221fa7c7
2024-05-18 20:48:18.374 [45782] main/104/interactive I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000000.xlog'
2024-05-18 20:48:18.374 [45782] main/104/interactive I> assigned id 2 to replica ad1e4566-497b-4cf0-8f93-438f1a7f7379
2024-05-18 20:48:18.374 [45782] main/104/interactive I> update replication_synchro_quorum = 2
2024-05-18 20:48:18.374 [45782] main/104/interactive I> RAFT: fencing paused
2024-05-18 20:48:18.374 [45782] main/104/interactive I> assigned name instance003 to replica ad1e4566-497b-4cf0-8f93-438f1a7f7379
2024-05-18 20:48:18.374 [45782] main/104/interactive I> assigned id 3 to replica 36952efe-e2ad-49df-b2da-91913b41740d
2024-05-18 20:48:18.374 [45782] main/104/interactive I> update replication_synchro_quorum = 2
2024-05-18 20:48:18.374 [45782] main/104/interactive I> assigned name instance002 to replica 36952efe-e2ad-49df-b2da-91913b41740d
2024-05-18 20:48:18.374 [45782] main/104/interactive I> done `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000000.xlog'
2024-05-18 20:48:18.374 [45782] main/104/interactive I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 20:48:18.374 [45782] main/104/interactive I> done `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 20:48:18.375 [45782] main/104/interactive I> RAFT: start state machine
2024-05-18 20:48:18.375 [45782] main/104/interactive I> ready to accept requests
2024-05-18 20:48:18.375 [45782] main/104/interactive I> synchronizing with 3 replicas
2024-05-18 20:48:18.375 [45782] main/104/interactive C> failed to synchronize with 2 out of 3 replicas
2024-05-18 20:48:18.375 [45782] main/104/interactive I> entering orphan mode
2024-05-18 20:48:18.375 [45782] main/104/interactive/box.load_cfg I> set 'instance_name' configuration option to "instance001"
2024-05-18 20:48:18.375 [45782] main/104/interactive/box.load_cfg I> set 'election_mode' configuration option to "candidate"
2024-05-18 20:48:18.375 [45782] main/104/interactive/box.load_cfg I> set 'custom_proc_title' configuration option to "tarantool - instance001"
2024-05-18 20:48:18.375 [45782] main/104/interactive/box.load_cfg I> set 'log_nonblock' configuration option to false
2024-05-18 20:48:18.375 [45782] main/104/interactive/box.load_cfg I> set 'replication' configuration option to ["replicator@127.0.0.1:3301","replicator@127.0.0.1:3302","replicator@127.0.0.1:3303"]
2024-05-18 20:48:18.375 [45782] main/104/interactive/box.load_cfg I> set 'replicaset_name' configuration option to "replicaset001"
2024-05-18 20:48:18.375 [45782] main/104/interactive/box.load_cfg I> set 'listen' configuration option to [{"uri":"127.0.0.1:3301"}]
2024-05-18 20:48:18.375 [45782] main/107/checkpoint_daemon I> scheduled next checkpoint for Sat May 18 22:27:55 2024
2024-05-18 20:48:18.375 [45782] main/114/applier/replicator@127.0.0.1:3302 I> failed to authenticate
2024-05-18 20:48:18.375 [45782] main/114/applier/replicator@127.0.0.1:3302 box.cc:4283 E> ER_LOADING: Instance bootstrap hasn't finished yet
2024-05-18 20:48:18.375 [45782] main/114/applier/replicator@127.0.0.1:3302 I> will retry every 1.00 second
2024-05-18 20:48:18.375 [45782] main/115/applier/replicator@127.0.0.1:3303 I> failed to authenticate
2024-05-18 20:48:18.375 [45782] main/115/applier/replicator@127.0.0.1:3303 box.cc:4283 E> ER_LOADING: Instance bootstrap hasn't finished yet
2024-05-18 20:48:18.375 [45782] main/115/applier/replicator@127.0.0.1:3303 I> will retry every 1.00 second
2024-05-18 20:48:18.375 [45782] main/104/interactive/box.load_cfg I> set 'metrics' configuration option to {"labels":{"alias":"instance001"},"include":["all"],"exclude":[]}
2024-05-18 20:48:18.376 [45782] main I> entering the event loop
2024-05-18 20:48:19.381 [45782] main/112/main I> subscribed replica ad1e4566-497b-4cf0-8f93-438f1a7f7379 at fd 24, aka 127.0.0.1:3301, peer of 127.0.0.1:57787
2024-05-18 20:48:19.381 [45782] main/112/main I> remote vclock {1: 13} local vclock {0: 1, 1: 13}
2024-05-18 20:48:19.381 [45782] main/128/main I> subscribed replica 36952efe-e2ad-49df-b2da-91913b41740d at fd 25, aka 127.0.0.1:3301, peer of 127.0.0.1:57788
2024-05-18 20:48:19.381 [45782] main/128/main I> remote vclock {1: 13} local vclock {0: 1, 1: 13}
2024-05-18 20:48:19.381 [45782] main/106/gc I> wal/engine cleanup is resumed
2024-05-18 20:48:19.382 [45782] relay/127.0.0.1:57788/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 20:48:19.382 [45782] relay/127.0.0.1:57787/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 20:48:19.382 [45782] main/115/applier/replicator@127.0.0.1:3303 I> authenticated
2024-05-18 20:48:19.382 [45782] main/114/applier/replicator@127.0.0.1:3302 I> authenticated
2024-05-18 20:48:19.382 [45782] main/115/applier/replicator@127.0.0.1:3303 I> subscribed
2024-05-18 20:48:19.382 [45782] main/115/applier/replicator@127.0.0.1:3303 I> remote vclock {1: 13} local vclock {0: 1, 1: 13}
2024-05-18 20:48:19.382 [45782] main/114/applier/replicator@127.0.0.1:3302 I> subscribed
2024-05-18 20:48:19.382 [45782] main/114/applier/replicator@127.0.0.1:3302 I> remote vclock {1: 13} local vclock {0: 1, 1: 13}
2024-05-18 20:48:19.382 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 2, state: follower} from 2
2024-05-18 20:48:19.382 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 2, state: follower} from 3
2024-05-18 20:48:19.382 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 2, state: follower} from 2
2024-05-18 20:48:19.382 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 2, state: follower} from 3
2024-05-18 20:48:20.386 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: fencing resumed
2024-05-18 20:48:20.386 [45782] main/115/applier/replicator@127.0.0.1:3303 I> leaving orphan mode
2024-05-18 20:48:24.387 [45782] main I> RAFT: begin new election round
2024-05-18 20:48:24.387 [45782] main I> RAFT: bump term to 3, follow
2024-05-18 20:48:24.387 [45782] main I> RAFT: vote for 1, follow
2024-05-18 20:48:24.388 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 3, vote: 2, state: candidate, vclock: {1: 13}} from 2
2024-05-18 20:48:24.388 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - already voted in this term
2024-05-18 20:48:24.388 [45782] main/119/raft_worker I> RAFT: persisted state {term: 3, vote: 1}
2024-05-18 20:48:24.388 [45782] main/119/raft_worker I> RAFT: enter candidate state with 1 self vote
2024-05-18 20:48:24.388 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 3, vote: 3, state: candidate, vclock: {1: 13}} from 3
2024-05-18 20:48:24.388 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: split vote is discovered - {1: 1, 2: 1, 3: 1}, new term in 0.260000 sec
2024-05-18 20:48:24.388 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - competing candidate
2024-05-18 20:48:24.649 [45782] main I> RAFT: begin new election round
2024-05-18 20:48:24.649 [45782] main I> RAFT: bump term to 4, follow
2024-05-18 20:48:24.649 [45782] main I> RAFT: vote for 1, follow
2024-05-18 20:48:24.649 [45782] main/119/raft_worker I> RAFT: persisted state {term: 4, vote: 1}
2024-05-18 20:48:24.649 [45782] main/119/raft_worker I> RAFT: enter candidate state with 1 self vote
2024-05-18 20:48:24.649 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 4, state: follower} from 2
2024-05-18 20:48:24.649 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 4, state: follower} from 3
2024-05-18 20:48:24.649 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 4, vote: 1, state: follower} from 3
2024-05-18 20:48:24.649 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: enter leader state with quorum 2
2024-05-18 20:48:24.650 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 4, vote: 1, state: follower} from 2
2024-05-18 20:48:24.650 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - the leader is already known - 1
2024-05-18 20:48:24.650 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 4, vote: 1, leader: 1, leader is seen: true, state: follower} from 3
2024-05-18 20:48:24.650 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - the leader is already known - 1
2024-05-18 20:48:24.650 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 4, vote: 1, leader: 1, leader is seen: true, state: follower} from 2
2024-05-18 20:48:24.650 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - the leader is already known - 1
2024-05-18 20:53:16.824 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 4, vote: 1, leader: 1, state: follower} from 2
2024-05-18 20:53:16.824 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - the leader is already known - 1
2024-05-18 20:53:16.825 [45782] applier_1/105/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302' has been cancelled
2024-05-18 20:53:16.825 [45782] applier_1/105/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302': exiting
2024-05-18 20:53:16.825 [45782] main/114/applier/replicator@127.0.0.1:3302 I> can't read row
2024-05-18 20:53:16.825 [45782] main/114/applier/replicator@127.0.0.1:3302 coio.c:300 E> TimedOut: timed out
2024-05-18 20:53:16.825 [45782] main/114/applier/replicator@127.0.0.1:3302 I> will retry every 1.00 second
2024-05-18 20:53:16.826 [45782] relay/127.0.0.1:57788/101/main coio.c:300 E> TimedOut: timed out
2024-05-18 20:53:16.826 [45782] relay/127.0.0.1:57788/101/main I> exiting the relay loop
2024-05-18 20:53:16.826 [45782] relay/127.0.0.1:57787/101/main coio.c:300 E> TimedOut: timed out
2024-05-18 20:53:16.826 [45782] relay/127.0.0.1:57787/101/main I> exiting the relay loop
2024-05-18 20:53:16.827 [45782] main/112/main raft.c:1221 W> RAFT: resigning from leader state
2024-05-18 20:53:16.830 [45782] applier_1/103/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303' has been cancelled
2024-05-18 20:53:16.830 [45782] applier_1/103/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303': exiting
2024-05-18 20:53:16.830 [45782] main/115/applier/replicator@127.0.0.1:3303 I> can't read row
2024-05-18 20:53:16.830 [45782] main/115/applier/replicator@127.0.0.1:3303 coio.c:353 E> SocketError: unexpected EOF when reading from socket, called on fd 28, aka 127.0.0.1:57791, peer of 127.0.0.1:3303: Broken pipe
2024-05-18 20:53:16.830 [45782] main/115/applier/replicator@127.0.0.1:3303 I> will retry every 1.00 second
2024-05-18 20:53:17.828 [45782] main/114/applier/replicator@127.0.0.1:3302 I> authenticated
2024-05-18 20:53:17.828 [45782] main/114/applier/replicator@127.0.0.1:3302 I> subscribed
2024-05-18 20:53:17.828 [45782] main/114/applier/replicator@127.0.0.1:3302 I> remote vclock {1: 18} local vclock {0: 3, 1: 18}
2024-05-18 20:53:17.828 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 5, vote: 3, state: candidate, vclock: {1: 18}} from 3
2024-05-18 20:53:17.828 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: received a newer term from 3
2024-05-18 20:53:17.828 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: bump term to 5, follow
2024-05-18 20:53:17.828 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote for 3, follow
2024-05-18 20:53:17.828 [45782] main/119/raft_worker I> RAFT: persisted state {term: 5}
2024-05-18 20:53:17.828 [45782] main/119/raft_worker I> RAFT: persisted state {term: 5, vote: 3}
2024-05-18 20:53:17.828 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 5, vote: 3, state: candidate, vclock: {1: 18}} from 3
2024-05-18 20:53:17.828 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - already voted in this term
2024-05-18 20:53:17.828 [45782] main/131/main I> subscribed replica 36952efe-e2ad-49df-b2da-91913b41740d at fd 28, aka 127.0.0.1:3301, peer of 127.0.0.1:57828
2024-05-18 20:53:17.828 [45782] main/131/main I> remote vclock {1: 18} local vclock {0: 5, 1: 18}
2024-05-18 20:53:17.829 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 5, vote: 3, leader: 3, state: leader} from 3
2024-05-18 20:53:17.829 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - this is a notification about a vote for a third node, not a request
2024-05-18 20:53:17.829 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: leader is 3, follow
2024-05-18 20:53:17.829 [45782] relay/127.0.0.1:57828/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 20:53:17.830 [45782] main/112/main I> subscribed replica ad1e4566-497b-4cf0-8f93-438f1a7f7379 at fd 33, aka 127.0.0.1:3301, peer of 127.0.0.1:57831
2024-05-18 20:53:17.830 [45782] main/112/main I> remote vclock {1: 18} local vclock {0: 5, 1: 18, 3: 1}
2024-05-18 20:53:17.831 [45782] main/115/applier/replicator@127.0.0.1:3303 I> authenticated
2024-05-18 20:53:17.831 [45782] relay/127.0.0.1:57831/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 20:53:17.831 [45782] main/115/applier/replicator@127.0.0.1:3303 I> subscribed
2024-05-18 20:53:17.831 [45782] main/115/applier/replicator@127.0.0.1:3303 I> remote vclock {1: 18} local vclock {0: 5, 1: 18, 3: 1}
2024-05-18 20:53:17.831 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 5, leader: 3, leader is seen: true, state: follower} from 2
2024-05-18 20:53:17.831 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 5, leader: 3, leader is seen: true, state: follower} from 2
2024-05-18 20:53:18.833 [45782] main/115/applier/replicator@127.0.0.1:3303 I> leaving orphan mode
2024-05-18 20:57:00.743 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 5, leader: 3, state: follower} from 2
2024-05-18 20:57:00.743 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: begin new election round
2024-05-18 20:57:00.743 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: bump term to 6, follow
2024-05-18 20:57:00.743 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote for 1, follow
2024-05-18 20:57:00.744 [45782] applier_1/107/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302' has been cancelled
2024-05-18 20:57:00.744 [45782] applier_1/107/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302': exiting
2024-05-18 20:57:00.745 [45782] main/119/raft_worker I> RAFT: persisted state {term: 6, vote: 1}
2024-05-18 20:57:00.745 [45782] main/119/raft_worker I> RAFT: enter candidate state with 1 self vote
2024-05-18 20:57:00.745 [45782] main/114/applier/replicator@127.0.0.1:3302 I> can't read row
2024-05-18 20:57:00.745 [45782] main/114/applier/replicator@127.0.0.1:3302 coio.c:300 E> TimedOut: timed out
2024-05-18 20:57:00.745 [45782] main/114/applier/replicator@127.0.0.1:3302 I> will retry every 1.00 second
2024-05-18 20:57:00.746 [45782] relay/127.0.0.1:57828/101/main coio.c:300 E> TimedOut: timed out
2024-05-18 20:57:00.746 [45782] relay/127.0.0.1:57828/101/main I> exiting the relay loop
2024-05-18 20:57:00.746 [45782] relay/127.0.0.1:57831/101/main coio.c:300 E> TimedOut: timed out
2024-05-18 20:57:00.746 [45782] relay/127.0.0.1:57831/101/main I> exiting the relay loop
2024-05-18 20:57:00.749 [45782] applier_1/109/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303' has been cancelled
2024-05-18 20:57:00.749 [45782] applier_1/109/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303': exiting
2024-05-18 20:57:00.749 [45782] main/115/applier/replicator@127.0.0.1:3303 I> can't read row
2024-05-18 20:57:00.749 [45782] main/115/applier/replicator@127.0.0.1:3303 coio.c:353 E> SocketError: unexpected EOF when reading from socket, called on fd 34, aka 127.0.0.1:57832, peer of 127.0.0.1:3303: Broken pipe
2024-05-18 20:57:00.749 [45782] main/115/applier/replicator@127.0.0.1:3303 I> will retry every 1.00 second
2024-05-18 20:57:01.747 [45782] main/114/applier/replicator@127.0.0.1:3302 I> authenticated
2024-05-18 20:57:01.747 [45782] main/114/applier/replicator@127.0.0.1:3302 I> subscribed
2024-05-18 20:57:01.747 [45782] main/114/applier/replicator@127.0.0.1:3302 I> remote vclock {1: 18, 3: 1} local vclock {0: 6, 1: 18, 3: 1}
2024-05-18 20:57:01.747 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 5, vote: 3, state: follower} from 3
2024-05-18 20:57:01.747 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: the message is ignored due to outdated term - current term is 6
2024-05-18 20:57:01.747 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 5, vote: 3, state: follower} from 3
2024-05-18 20:57:01.747 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: the message is ignored due to outdated term - current term is 6
2024-05-18 20:57:01.748 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 6, state: follower} from 3
2024-05-18 20:57:01.751 [45782] main/115/applier/replicator@127.0.0.1:3303 I> authenticated
2024-05-18 20:57:01.751 [45782] main/115/applier/replicator@127.0.0.1:3303 I> subscribed
2024-05-18 20:57:01.751 [45782] main/115/applier/replicator@127.0.0.1:3303 I> remote vclock {1: 18, 3: 1} local vclock {0: 6, 1: 18, 3: 1}
2024-05-18 20:57:01.751 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 6, vote: 2, state: candidate, vclock: {1: 18, 3: 1}} from 2
2024-05-18 20:57:01.751 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - competing candidate
2024-05-18 20:57:01.751 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 6, vote: 2, state: candidate, vclock: {1: 18, 3: 1}} from 2
2024-05-18 20:57:01.751 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - competing candidate
2024-05-18 20:57:01.751 [45782] main/135/main I> subscribed replica ad1e4566-497b-4cf0-8f93-438f1a7f7379 at fd 28, aka 127.0.0.1:3301, peer of 127.0.0.1:57856
2024-05-18 20:57:01.751 [45782] main/135/main I> remote vclock {1: 18, 3: 1} local vclock {0: 6, 1: 18, 3: 1}
2024-05-18 20:57:01.751 [45782] main/138/main I> subscribed replica 36952efe-e2ad-49df-b2da-91913b41740d at fd 31, aka 127.0.0.1:3301, peer of 127.0.0.1:57857
2024-05-18 20:57:01.751 [45782] main/138/main I> remote vclock {1: 18, 3: 1} local vclock {0: 6, 1: 18, 3: 1}
2024-05-18 20:57:01.752 [45782] relay/127.0.0.1:57856/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 20:57:01.752 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 6, vote: 1, state: follower} from 3
2024-05-18 20:57:01.752 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: enter leader state with quorum 2
2024-05-18 20:57:01.752 [45782] relay/127.0.0.1:57857/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 20:57:01.752 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 6, vote: 2, leader: 1, leader is seen: true, state: follower} from 2
2024-05-18 20:57:01.752 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - the leader is already known - 1
2024-05-18 20:57:01.752 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 6, vote: 1, leader: 1, leader is seen: true, state: follower} from 3
2024-05-18 20:57:01.752 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - the leader is already known - 1
2024-05-18 20:57:03.762 [45782] main/114/applier/replicator@127.0.0.1:3302 I> leaving orphan mode
2024-05-18 21:14:29.760 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 6, vote: 1, leader: 1, state: follower} from 3
2024-05-18 21:14:29.760 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - the leader is already known - 1
2024-05-18 21:14:29.760 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 6, vote: 2, leader: 1, state: follower} from 2
2024-05-18 21:14:29.760 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - the leader is already known - 1
2024-05-18 21:14:29.763 [45782] relay/127.0.0.1:57857/101/main coio.c:353 E> SocketError: unexpected EOF when reading from socket, called on fd 31, aka 127.0.0.1:3301, peer of 127.0.0.1:57857: Broken pipe
2024-05-18 21:14:29.763 [45782] relay/127.0.0.1:57857/101/main I> exiting the relay loop
2024-05-18 21:14:29.764 [45782] relay/127.0.0.1:57856/101/main coio.c:353 E> SocketError: unexpected EOF when reading from socket, called on fd 28, aka 127.0.0.1:3301, peer of 127.0.0.1:57856: Broken pipe
2024-05-18 21:14:29.764 [45782] relay/127.0.0.1:57856/101/main I> exiting the relay loop
2024-05-18 21:14:29.764 [45782] main/135/main raft.c:1221 W> RAFT: resigning from leader state
2024-05-18 21:14:29.764 [45782] applier_1/111/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302' has been cancelled
2024-05-18 21:14:29.764 [45782] applier_1/111/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302': exiting
2024-05-18 21:14:29.764 [45782] main/114/applier/replicator@127.0.0.1:3302 I> can't read row
2024-05-18 21:14:29.765 [45782] main/114/applier/replicator@127.0.0.1:3302 coio.c:353 E> SocketError: unexpected EOF when reading from socket, called on fd 26, aka 127.0.0.1:57852, peer of 127.0.0.1:3302: Broken pipe
2024-05-18 21:14:29.765 [45782] main/114/applier/replicator@127.0.0.1:3302 I> will retry every 1.00 second
2024-05-18 21:14:29.765 [45782] applier_1/113/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303' has been cancelled
2024-05-18 21:14:29.765 [45782] applier_1/113/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303': exiting
2024-05-18 21:14:29.765 [45782] main/115/applier/replicator@127.0.0.1:3303 I> can't read row
2024-05-18 21:14:29.765 [45782] main/115/applier/replicator@127.0.0.1:3303 coio.c:353 E> SocketError: unexpected EOF when reading from socket, called on fd 27, aka 127.0.0.1:57854, peer of 127.0.0.1:3303: Broken pipe
2024-05-18 21:14:29.765 [45782] main/115/applier/replicator@127.0.0.1:3303 I> will retry every 1.00 second
2024-05-18 21:14:30.763 [45782] main/138/main I> subscribed replica 36952efe-e2ad-49df-b2da-91913b41740d at fd 26, aka 127.0.0.1:3301, peer of 127.0.0.1:57917
2024-05-18 21:14:30.763 [45782] main/138/main I> remote vclock {1: 19, 3: 1} local vclock {0: 6, 1: 19, 3: 1}
2024-05-18 21:14:30.764 [45782] relay/127.0.0.1:57917/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 21:14:30.766 [45782] main/135/main I> RAFT: received a newer term from 3
2024-05-18 21:14:30.766 [45782] main/135/main I> RAFT: bump term to 7, follow
2024-05-18 21:14:30.766 [45782] main/119/raft_worker I> RAFT: persisted state {term: 7}
2024-05-18 21:14:30.767 [45782] main/135/main I> subscribed replica ad1e4566-497b-4cf0-8f93-438f1a7f7379 at fd 33, aka 127.0.0.1:3301, peer of 127.0.0.1:57919
2024-05-18 21:14:30.767 [45782] main/135/main I> remote vclock {1: 19, 3: 1} local vclock {0: 7, 1: 19, 3: 1}
2024-05-18 21:14:30.768 [45782] main/114/applier/replicator@127.0.0.1:3302 I> authenticated
2024-05-18 21:14:30.769 [45782] relay/127.0.0.1:57919/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 21:14:30.769 [45782] main/114/applier/replicator@127.0.0.1:3302 I> subscribed
2024-05-18 21:14:30.769 [45782] main/114/applier/replicator@127.0.0.1:3302 I> remote vclock {1: 19, 3: 1} local vclock {0: 7, 1: 19, 3: 1}
2024-05-18 21:14:30.769 [45782] main/115/applier/replicator@127.0.0.1:3303 I> authenticated
2024-05-18 21:14:30.770 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 7, vote: 3, state: candidate, vclock: {1: 19, 3: 1}} from 3
2024-05-18 21:14:30.770 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote for 3, follow
2024-05-18 21:14:30.771 [45782] main/115/applier/replicator@127.0.0.1:3303 I> subscribed
2024-05-18 21:14:30.771 [45782] main/115/applier/replicator@127.0.0.1:3303 I> remote vclock {1: 19, 3: 1} local vclock {0: 7, 1: 19, 3: 1}
2024-05-18 21:14:30.771 [45782] main/119/raft_worker I> RAFT: persisted state {term: 7, vote: 3}
2024-05-18 21:14:30.771 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 7, vote: 2, state: candidate, vclock: {1: 19, 3: 1}} from 2
2024-05-18 21:14:30.771 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - already voted in this term
2024-05-18 21:14:30.772 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 7, vote: 2, state: candidate, vclock: {1: 19, 3: 1}} from 2
2024-05-18 21:14:30.772 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - already voted in this term
2024-05-18 21:14:30.772 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 7, vote: 3, leader: 3, state: leader} from 3
2024-05-18 21:14:30.772 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - this is a notification about a vote for a third node, not a request
2024-05-18 21:14:30.772 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: leader is 3, follow
2024-05-18 21:14:30.773 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 7, vote: 2, leader: 3, leader is seen: true, state: follower} from 2
2024-05-18 21:14:30.773 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - the leader is already known - 3
2024-05-18 21:14:30.776 [45782] main I> leaving orphan mode
2024-05-18 21:32:03.756 [45782] relay/127.0.0.1:57919/101/main coio.c:300 E> TimedOut: timed out
2024-05-18 21:32:03.756 [45782] relay/127.0.0.1:57919/101/main I> exiting the relay loop
2024-05-18 21:32:03.757 [45782] relay/127.0.0.1:57917/101/main coio.c:300 E> TimedOut: timed out
2024-05-18 21:32:03.757 [45782] relay/127.0.0.1:57917/101/main I> exiting the relay loop
2024-05-18 21:32:03.759 [45782] applier_1/115/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302' has been cancelled
2024-05-18 21:32:03.759 [45782] applier_1/115/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302': exiting
2024-05-18 21:32:03.759 [45782] applier_1/117/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303' has been cancelled
2024-05-18 21:32:03.759 [45782] applier_1/117/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303': exiting
2024-05-18 21:32:03.759 [45782] main/114/applier/replicator@127.0.0.1:3302 I> can't read row
2024-05-18 21:32:03.759 [45782] main/114/applier/replicator@127.0.0.1:3302 coio.c:353 E> SocketError: unexpected EOF when reading from socket, called on fd 34, aka 127.0.0.1:57922, peer of 127.0.0.1:3302: Broken pipe
2024-05-18 21:32:03.759 [45782] main/114/applier/replicator@127.0.0.1:3302 I> will retry every 1.00 second
2024-05-18 21:32:03.759 [45782] main/115/applier/replicator@127.0.0.1:3303 I> can't read row
2024-05-18 21:32:03.759 [45782] main/115/applier/replicator@127.0.0.1:3303 coio.c:300 E> TimedOut: timed out
2024-05-18 21:32:03.759 [45782] main/115/applier/replicator@127.0.0.1:3303 I> will retry every 1.00 second
2024-05-18 21:32:04.765 [45782] main/114/applier/replicator@127.0.0.1:3302 I> authenticated
2024-05-18 21:32:04.765 [45782] main/135/main I> subscribed replica 36952efe-e2ad-49df-b2da-91913b41740d at fd 28, aka 127.0.0.1:3301, peer of 127.0.0.1:57937
2024-05-18 21:32:04.765 [45782] main/135/main I> remote vclock {1: 19, 3: 2} local vclock {0: 8, 1: 19, 3: 2}
2024-05-18 21:32:04.766 [45782] main/147/main I> subscribed replica ad1e4566-497b-4cf0-8f93-438f1a7f7379 at fd 29, aka 127.0.0.1:3301, peer of 127.0.0.1:57940
2024-05-18 21:32:04.766 [45782] main/147/main I> remote vclock {1: 19, 3: 2} local vclock {0: 8, 1: 19, 3: 2}
2024-05-18 21:32:04.767 [45782] main/114/applier/replicator@127.0.0.1:3302 I> subscribed
2024-05-18 21:32:04.767 [45782] main/114/applier/replicator@127.0.0.1:3302 I> remote vclock {1: 19, 3: 2} local vclock {0: 8, 1: 19, 3: 2}
2024-05-18 21:32:04.767 [45782] main/115/applier/replicator@127.0.0.1:3303 I> authenticated
2024-05-18 21:32:04.768 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 7, vote: 3, state: follower} from 3
2024-05-18 21:32:04.768 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - the leader is already known - 3
2024-05-18 21:32:04.768 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: the node 3 has resigned from the leader role
2024-05-18 21:32:04.768 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 7, vote: 3, state: follower} from 3
2024-05-18 21:32:04.768 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - this is a notification about a vote for a third node, not a request
2024-05-18 21:32:04.769 [45782] relay/127.0.0.1:57940/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 21:32:04.769 [45782] relay/127.0.0.1:57937/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 21:32:04.769 [45782] main/115/applier/replicator@127.0.0.1:3303 I> subscribed
2024-05-18 21:32:04.769 [45782] main/115/applier/replicator@127.0.0.1:3303 I> remote vclock {1: 19, 3: 2} local vclock {0: 8, 1: 19, 3: 2}
2024-05-18 21:32:04.769 [45782] main/148/main I> RAFT: received a newer term from 2
2024-05-18 21:32:04.769 [45782] main/148/main I> RAFT: bump term to 8, follow
2024-05-18 21:32:04.769 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 8, state: follower} from 3
2024-05-18 21:32:04.770 [45782] main/119/raft_worker I> RAFT: persisted state {term: 8}
2024-05-18 21:32:04.770 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 8, vote: 2, state: follower} from 2
2024-05-18 21:32:04.770 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - this is a notification about a vote for a third node, not a request
2024-05-18 21:32:04.770 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 8, vote: 2, state: follower} from 2
2024-05-18 21:32:04.770 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - this is a notification about a vote for a third node, not a request
2024-05-18 21:32:05.780 [45782] main/115/applier/replicator@127.0.0.1:3303 I> leaving orphan mode
2024-05-18 21:35:43.396 [45782] main I> RAFT: begin new election round
2024-05-18 21:35:43.396 [45782] main I> RAFT: bump term to 9, follow
2024-05-18 21:35:43.396 [45782] main I> RAFT: vote for 1, follow
2024-05-18 21:35:43.400 [45782] main/119/raft_worker I> RAFT: persisted state {term: 9, vote: 1}
2024-05-18 21:35:43.400 [45782] main/119/raft_worker I> RAFT: enter candidate state with 1 self vote
2024-05-18 21:35:43.401 [45782] relay/127.0.0.1:57937/101/main coio.c:300 E> TimedOut: timed out
2024-05-18 21:35:43.401 [45782] relay/127.0.0.1:57940/101/main coio.c:300 E> TimedOut: timed out
2024-05-18 21:35:43.401 [45782] relay/127.0.0.1:57937/101/main I> exiting the relay loop
2024-05-18 21:35:43.401 [45782] relay/127.0.0.1:57940/101/main I> exiting the relay loop
2024-05-18 21:35:43.401 [45782] applier_1/119/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302' has been cancelled
2024-05-18 21:35:43.401 [45782] applier_1/119/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302': exiting
2024-05-18 21:35:43.401 [45782] applier_1/121/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303' has been cancelled
2024-05-18 21:35:43.401 [45782] applier_1/121/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303': exiting
2024-05-18 21:35:43.404 [45782] main/114/applier/replicator@127.0.0.1:3302 I> can't read row
2024-05-18 21:35:43.404 [45782] main/114/applier/replicator@127.0.0.1:3302 coio.c:353 E> SocketError: unexpected EOF when reading from socket, called on fd 26, aka 127.0.0.1:57936, peer of 127.0.0.1:3302: Broken pipe
2024-05-18 21:35:43.404 [45782] main/114/applier/replicator@127.0.0.1:3302 I> will retry every 1.00 second
2024-05-18 21:35:43.404 [45782] main/115/applier/replicator@127.0.0.1:3303 I> can't read row
2024-05-18 21:35:43.404 [45782] main/115/applier/replicator@127.0.0.1:3303 coio.c:300 E> TimedOut: timed out
2024-05-18 21:35:43.404 [45782] main/115/applier/replicator@127.0.0.1:3303 I> will retry every 1.00 second
2024-05-18 21:35:44.405 [45782] main/135/main I> subscribed replica 36952efe-e2ad-49df-b2da-91913b41740d at fd 26, aka 127.0.0.1:3301, peer of 127.0.0.1:57960
2024-05-18 21:35:44.405 [45782] main/135/main I> remote vclock {1: 19, 3: 2} local vclock {0: 10, 1: 19, 3: 2}
2024-05-18 21:35:44.405 [45782] main/149/main I> subscribed replica ad1e4566-497b-4cf0-8f93-438f1a7f7379 at fd 27, aka 127.0.0.1:3301, peer of 127.0.0.1:57961
2024-05-18 21:35:44.405 [45782] main/149/main I> remote vclock {1: 19, 3: 2} local vclock {0: 10, 1: 19, 3: 2}
2024-05-18 21:35:44.405 [45782] relay/127.0.0.1:57960/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 21:35:44.405 [45782] relay/127.0.0.1:57961/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 21:35:44.405 [45782] main/115/applier/replicator@127.0.0.1:3303 I> authenticated
2024-05-18 21:35:44.405 [45782] main/114/applier/replicator@127.0.0.1:3302 I> authenticated
2024-05-18 21:35:44.405 [45782] main/115/applier/replicator@127.0.0.1:3303 I> subscribed
2024-05-18 21:35:44.405 [45782] main/115/applier/replicator@127.0.0.1:3303 I> remote vclock {1: 19, 3: 2} local vclock {0: 10, 1: 19, 3: 2}
2024-05-18 21:35:44.405 [45782] main/114/applier/replicator@127.0.0.1:3302 I> subscribed
2024-05-18 21:35:44.405 [45782] main/114/applier/replicator@127.0.0.1:3302 I> remote vclock {1: 19, 3: 2} local vclock {0: 10, 1: 19, 3: 2}
2024-05-18 21:35:44.405 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 9, vote: 2, state: candidate, vclock: {1: 19, 3: 2}} from 2
2024-05-18 21:35:44.405 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - competing candidate
2024-05-18 21:35:44.405 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 9, vote: 3, state: candidate, vclock: {1: 19, 3: 2}} from 3
2024-05-18 21:35:44.405 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: split vote is discovered - {1: 1, 2: 1, 3: 1}, new term in 0.077000 sec
2024-05-18 21:35:44.405 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - competing candidate
2024-05-18 21:35:44.406 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 9, vote: 3, state: candidate, vclock: {1: 19, 3: 2}} from 3
2024-05-18 21:35:44.406 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - competing candidate
2024-05-18 21:35:44.461 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 10, vote: 2, state: candidate, vclock: {1: 19, 3: 2}} from 2
2024-05-18 21:35:44.461 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: received a newer term from 2
2024-05-18 21:35:44.461 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: bump term to 10, follow
2024-05-18 21:35:44.461 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote for 2, follow
2024-05-18 21:35:44.461 [45782] main/119/raft_worker I> RAFT: persisted state {term: 10}
2024-05-18 21:35:44.461 [45782] main/119/raft_worker I> RAFT: persisted state {term: 10, vote: 2}
2024-05-18 21:35:44.461 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 10, state: follower} from 3
2024-05-18 21:35:44.461 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 10, vote: 2, state: follower} from 3
2024-05-18 21:35:44.461 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - this is a notification about a vote for a third node, not a request
2024-05-18 21:35:44.461 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 10, vote: 2, leader: 2, state: leader} from 2
2024-05-18 21:35:44.461 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - this is a notification about a vote for a third node, not a request
2024-05-18 21:35:44.461 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: leader is 2, follow
2024-05-18 21:35:44.461 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 10, vote: 2, leader: 2, leader is seen: true, state: follower} from 3
2024-05-18 21:35:44.461 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - the leader is already known - 2
2024-05-18 21:35:45.461 [45782] main/114/applier/replicator@127.0.0.1:3302 I> leaving orphan mode
2024-05-18 21:51:49.749 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 10, vote: 2, leader: 2, state: follower} from 3
2024-05-18 21:51:49.749 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: begin new election round
2024-05-18 21:51:49.749 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: bump term to 11, follow
2024-05-18 21:51:49.749 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote for 1, follow
2024-05-18 21:51:49.749 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - this is a notification about a vote for a third node, not a request
2024-05-18 21:51:49.749 [45782] applier_1/125/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302' has been cancelled
2024-05-18 21:51:49.749 [45782] applier_1/125/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302': exiting
2024-05-18 21:51:49.749 [45782] applier_1/123/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303' has been cancelled
2024-05-18 21:51:49.749 [45782] applier_1/123/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303': exiting
2024-05-18 21:51:49.749 [45782] relay/127.0.0.1:57960/101/main coio.c:300 E> TimedOut: timed out
2024-05-18 21:51:49.749 [45782] relay/127.0.0.1:57961/101/main coio.c:300 E> TimedOut: timed out
2024-05-18 21:51:49.749 [45782] relay/127.0.0.1:57960/101/main I> exiting the relay loop
2024-05-18 21:51:49.749 [45782] relay/127.0.0.1:57961/101/main I> exiting the relay loop
2024-05-18 21:51:49.750 [45782] main/114/applier/replicator@127.0.0.1:3302 I> can't read row
2024-05-18 21:51:49.750 [45782] main/114/applier/replicator@127.0.0.1:3302 coio.c:353 E> SocketError: unexpected EOF when reading from socket, called on fd 28, aka 127.0.0.1:57966, peer of 127.0.0.1:3302: Broken pipe
2024-05-18 21:51:49.750 [45782] main/114/applier/replicator@127.0.0.1:3302 I> will retry every 1.00 second
2024-05-18 21:51:49.750 [45782] main/115/applier/replicator@127.0.0.1:3303 I> can't read row
2024-05-18 21:51:49.750 [45782] main/115/applier/replicator@127.0.0.1:3303 coio.c:300 E> TimedOut: timed out
2024-05-18 21:51:49.750 [45782] main/115/applier/replicator@127.0.0.1:3303 I> will retry every 1.00 second
2024-05-18 21:51:49.750 [45782] main/119/raft_worker I> RAFT: persisted state {term: 11, vote: 1}
2024-05-18 21:51:50.751 [45782] main/114/applier/replicator@127.0.0.1:3302 I> authenticated
2024-05-18 21:51:50.751 [45782] main/115/applier/replicator@127.0.0.1:3303 I> authenticated
2024-05-18 21:51:50.751 [45782] main/114/applier/replicator@127.0.0.1:3302 I> subscribed
2024-05-18 21:51:50.751 [45782] main/114/applier/replicator@127.0.0.1:3302 I> remote vclock {1: 19, 2: 1, 3: 2} local vclock {0: 13, 1: 19, 2: 1, 3: 2}
2024-05-18 21:51:50.751 [45782] main/115/applier/replicator@127.0.0.1:3303 I> subscribed
2024-05-18 21:51:50.752 [45782] main/115/applier/replicator@127.0.0.1:3303 I> remote vclock {1: 19, 2: 1, 3: 2} local vclock {0: 13, 1: 19, 2: 1, 3: 2}
2024-05-18 21:51:50.752 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 11, vote: 3, state: candidate, vclock: {1: 19, 2: 1, 3: 2}} from 3
2024-05-18 21:51:50.752 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - already voted in this term
2024-05-18 21:51:50.752 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 11, state: follower} from 2
2024-05-18 21:51:50.752 [45782] main/152/main I> subscribed replica ad1e4566-497b-4cf0-8f93-438f1a7f7379 at fd 28, aka 127.0.0.1:3301, peer of 127.0.0.1:57978
2024-05-18 21:51:50.752 [45782] main/152/main I> remote vclock {1: 19, 2: 1, 3: 2} local vclock {0: 13, 1: 19, 2: 1, 3: 2}
2024-05-18 21:51:50.752 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 11, state: follower} from 2
2024-05-18 21:51:50.752 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 11, vote: 3, state: candidate, vclock: {1: 19, 2: 1, 3: 2}} from 3
2024-05-18 21:51:50.752 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - already voted in this term
2024-05-18 21:51:50.752 [45782] main/155/main I> subscribed replica 36952efe-e2ad-49df-b2da-91913b41740d at fd 31, aka 127.0.0.1:3301, peer of 127.0.0.1:57979
2024-05-18 21:51:50.752 [45782] main/155/main I> remote vclock {1: 19, 2: 1, 3: 2} local vclock {0: 13, 1: 19, 2: 1, 3: 2}
2024-05-18 21:51:50.752 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 11, vote: 3, state: follower} from 2
2024-05-18 21:51:50.752 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - this is a notification about a vote for a third node, not a request
2024-05-18 21:51:50.752 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 11, vote: 3, leader: 3, state: leader} from 3
2024-05-18 21:51:50.752 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - this is a notification about a vote for a third node, not a request
2024-05-18 21:51:50.752 [45782] relay/127.0.0.1:57978/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 21:51:50.752 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: leader is 3, follow
2024-05-18 21:51:50.752 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 11, vote: 3, leader: 3, leader is seen: true, state: follower} from 2
2024-05-18 21:51:50.752 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - the leader is already known - 3
2024-05-18 21:51:50.752 [45782] main/115/applier/replicator@127.0.0.1:3303 I> leaving orphan mode
2024-05-18 21:51:50.752 [45782] relay/127.0.0.1:57979/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 21:52:49.361 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 11, vote: 3, leader: 3, state: follower} from 2
2024-05-18 21:52:49.361 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: begin new election round
2024-05-18 21:52:49.361 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: bump term to 12, follow
2024-05-18 21:52:49.361 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote for 1, follow
2024-05-18 21:52:49.361 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - this is a notification about a vote for a third node, not a request
2024-05-18 21:52:49.361 [45782] applier_1/127/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302' has been cancelled
2024-05-18 21:52:49.361 [45782] applier_1/127/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302': exiting
2024-05-18 21:52:49.361 [45782] main/119/raft_worker I> RAFT: persisted state {term: 12, vote: 1}
2024-05-18 21:52:49.361 [45782] main/119/raft_worker I> RAFT: enter candidate state with 1 self vote
2024-05-18 21:52:49.361 [45782] main/114/applier/replicator@127.0.0.1:3302 I> can't read row
2024-05-18 21:52:49.361 [45782] main/114/applier/replicator@127.0.0.1:3302 coio.c:300 E> TimedOut: timed out
2024-05-18 21:52:49.361 [45782] main/114/applier/replicator@127.0.0.1:3302 I> will retry every 1.00 second
2024-05-18 21:52:49.361 [45782] relay/127.0.0.1:57978/101/main coio.c:300 E> TimedOut: timed out
2024-05-18 21:52:49.361 [45782] relay/127.0.0.1:57978/101/main I> exiting the relay loop
2024-05-18 21:52:49.362 [45782] relay/127.0.0.1:57979/101/main coio.c:300 E> TimedOut: timed out
2024-05-18 21:52:49.362 [45782] relay/127.0.0.1:57979/101/main I> exiting the relay loop
2024-05-18 21:52:49.362 [45782] applier_1/129/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303' has been cancelled
2024-05-18 21:52:49.362 [45782] applier_1/129/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303': exiting
2024-05-18 21:52:49.362 [45782] main/115/applier/replicator@127.0.0.1:3303 I> can't read row
2024-05-18 21:52:49.362 [45782] main/115/applier/replicator@127.0.0.1:3303 coio.c:353 E> SocketError: unexpected EOF when reading from socket, called on fd 27, aka 127.0.0.1:57976, peer of 127.0.0.1:3303: Broken pipe
2024-05-18 21:52:49.362 [45782] main/115/applier/replicator@127.0.0.1:3303 I> will retry every 1.00 second
2024-05-18 21:52:50.362 [45782] main/114/applier/replicator@127.0.0.1:3302 I> authenticated
2024-05-18 21:52:50.362 [45782] main/114/applier/replicator@127.0.0.1:3302 I> subscribed
2024-05-18 21:52:50.362 [45782] main/114/applier/replicator@127.0.0.1:3302 I> remote vclock {1: 19, 2: 1, 3: 3} local vclock {0: 14, 1: 19, 2: 1, 3: 3}
2024-05-18 21:52:50.362 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 11, vote: 3, state: follower} from 3
2024-05-18 21:52:50.362 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: the message is ignored due to outdated term - current term is 12
2024-05-18 21:52:50.362 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 11, vote: 3, state: follower} from 3
2024-05-18 21:52:50.362 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: the message is ignored due to outdated term - current term is 12
2024-05-18 21:52:50.363 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 12, state: follower} from 3
2024-05-18 21:52:50.363 [45782] main/115/applier/replicator@127.0.0.1:3303 I> authenticated
2024-05-18 21:52:50.363 [45782] main/157/main I> subscribed replica ad1e4566-497b-4cf0-8f93-438f1a7f7379 at fd 27, aka 127.0.0.1:3301, peer of 127.0.0.1:58008
2024-05-18 21:52:50.363 [45782] main/157/main I> remote vclock {1: 19, 2: 1, 3: 3} local vclock {0: 14, 1: 19, 2: 1, 3: 3}
2024-05-18 21:52:50.363 [45782] main/115/applier/replicator@127.0.0.1:3303 I> subscribed
2024-05-18 21:52:50.363 [45782] main/115/applier/replicator@127.0.0.1:3303 I> remote vclock {1: 19, 2: 1, 3: 3} local vclock {0: 14, 1: 19, 2: 1, 3: 3}
2024-05-18 21:52:50.363 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 12, vote: 2, state: candidate, vclock: {1: 19, 2: 1, 3: 3}} from 2
2024-05-18 21:52:50.363 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - competing candidate
2024-05-18 21:52:50.363 [45782] relay/127.0.0.1:58008/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 21:52:50.363 [45782] main/152/main I> subscribed replica 36952efe-e2ad-49df-b2da-91913b41740d at fd 31, aka 127.0.0.1:3301, peer of 127.0.0.1:58009
2024-05-18 21:52:50.363 [45782] main/152/main I> remote vclock {1: 19, 2: 1, 3: 3} local vclock {0: 14, 1: 19, 2: 1, 3: 3}
2024-05-18 21:52:50.364 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 12, vote: 2, state: candidate, vclock: {1: 19, 2: 1, 3: 3}} from 2
2024-05-18 21:52:50.364 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - competing candidate
2024-05-18 21:52:50.364 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 12, vote: 2, state: follower} from 3
2024-05-18 21:52:50.364 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: split vote is discovered - {1: 1, 2: 1, 3: 1}, new term in 0.473000 sec
2024-05-18 21:52:50.364 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - competing candidate
2024-05-18 21:52:50.364 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: message {term: 12, vote: 2, leader: 2, state: leader} from 2
2024-05-18 21:52:50.364 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: vote request is skipped - competing candidate
2024-05-18 21:52:50.364 [45782] main/115/applier/replicator@127.0.0.1:3303 I> RAFT: leader is 2, follow
2024-05-18 21:52:50.364 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: message {term: 12, vote: 2, leader: 2, leader is seen: true, state: follower} from 3
2024-05-18 21:52:50.364 [45782] main/114/applier/replicator@127.0.0.1:3302 I> RAFT: vote request is skipped - the leader is already known - 2
2024-05-18 21:52:50.364 [45782] relay/127.0.0.1:58009/101/main I> recover from `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000014.xlog'
2024-05-18 21:52:51.367 [45782] main/114/applier/replicator@127.0.0.1:3302 I> leaving orphan mode
2024-05-18 22:27:55.381 [45782] snapshot/101/main I> saving snapshot `/Users/agarkov/sbt-db/tarantool/instances.enabled/auto_leader/var/lib/instance001/00000000000000000038.snap.inprogress'
2024-05-18 22:27:55.381 [45782] snapshot/101/main I> done
2024-05-18 22:27:55.382 [45782] main/107/checkpoint_daemon I> scheduled next checkpoint for Sat May 18 23:27:55 2024
2024-05-18 23:10:51.668 [45782] main C> got signal 2 - Interrupt: 2
2024-05-18 23:10:51.668 [45782] main/130/console/unix/: utils.c:679 E> LuajitError: builtin/socket.lua:89: attempt to use closed socket
2024-05-18 23:10:51.668 [45782] main/161/iproto.shutdown I> tx_binary: stopped
2024-05-18 23:10:51.668 [45782] relay/127.0.0.1:58009/101/main I> fiber `main' has been cancelled
2024-05-18 23:10:51.668 [45782] relay/127.0.0.1:58009/101/main I> fiber `main': exiting
2024-05-18 23:10:51.668 [45782] relay/127.0.0.1:58009/101/main I> exiting the relay loop
2024-05-18 23:10:51.668 [45782] relay/127.0.0.1:58008/101/main I> fiber `main' has been cancelled
2024-05-18 23:10:51.668 [45782] relay/127.0.0.1:58008/101/main I> fiber `main': exiting
2024-05-18 23:10:51.668 [45782] relay/127.0.0.1:58008/101/main I> exiting the relay loop
2024-05-18 23:10:51.669 [45782] applier_1/131/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302' has been cancelled
2024-05-18 23:10:51.669 [45782] applier_1/131/writer/replicator@127.0.0.1:3302 I> fiber `writer/replicator@127.0.0.1:3302': exiting
2024-05-18 23:10:51.669 [45782] applier_1/133/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303' has been cancelled
2024-05-18 23:10:51.669 [45782] applier_1/133/writer/replicator@127.0.0.1:3303 I> fiber `writer/replicator@127.0.0.1:3303': exiting
Watchdog 2024/05/18 23:10:51 (INFO): the Instance has shutdown.
